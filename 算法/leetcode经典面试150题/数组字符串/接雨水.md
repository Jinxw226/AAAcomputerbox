解法：双指针
理论：当前高度减左边最高和右边最高中的最小值
![[Pasted image 20250821215632.png]]
![[Pasted image 20250821215639.png]]
![[Pasted image 20250821215646.png]]
![[Pasted image 20250821215653.png]]
![[Pasted image 20250821215701.png]]
![[Pasted image 20250821215710.png]]
![[Pasted image 20250821215716.png]]
![[Pasted image 20250821215725.png]]
![[Pasted image 20250821215735.png]]
![[Pasted image 20250821215753.png]]
![[Pasted image 20250821215759.png]]
![[Pasted image 20250821215804.png]]

```cpp
class Solution {
public:
    int trap(vector<int>& height) {
        int ans = 0;
        int left = 0, right = height.size() - 1;
        int rightMax = 0,leftMax = 0;
        while(left < right){
            leftMax = max(leftMax, height[left]);
            rightMax = max(rightMax, height[right]);
            if(height[left] < height[right]){
                ans = ans + (leftMax - height[left]);
                left++;
            }
            else{
                ans = ans + (rightMax - height[right]);
                right--;
            }
        }
        return ans;
    }
};
```

时间复杂度：O(n)
空间复杂度：O(1)