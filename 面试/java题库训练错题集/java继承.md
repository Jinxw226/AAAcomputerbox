#继承 #java

**格式：**  
       class   子类名   extends   父类名  {  }  
单独的这个类称为父类，基类或超类；这多个类可以称为子类或者派生类。


**开发的原则**：低耦合，高内聚。  
       耦合：类与类的关系  
       内聚：自己完成某件功能的能力

Java中继承的特点：
       Java只支持单继承，不支持多继承。（有些语言支持多继承，格式：extends   类1,类2,....）
       Java支持多层继承（继承体系）
              class  A{}
              class  B  extends  A{}
              class  C  extends  B{}
              (C可以调用B中方法也可以调用A中方法) 

**继承的注意事项：**  
       子类==只能==继承父类所有==非私有==的成员（成员方法和成员变量）  
       子类不能继承父类的构造方法，但可以通过super关键字去访问父类构造方法  
       不要为了部分功能而去继承
       注意：子类每一个构造方法的第一条语句默认都是super();

**继承中成员变量的关系**  
       子类中的成员变量和父类中的成员变量名称一样时，变量就近原则。  
       先查看子类方法的局部范围找，有就使用，否则在子类的成员方法找，有就是用，否则在父类的成员范围找。

super关键字
       super的用法和this很像

              super代表父类存储空间的标识（可以理解未父类引用）
       用法(this和super均可如下使用)
              调用成员变量
                     this.成员变量   调用本类的成员变量
                     super.成员变量   调用父类的成员变量
              调用构造变量
                     this(...)   调用本类的构造方法
                     super(...)   调用父类的构造方法
              调用成员方法
                     this.成员方法   调用本类的成员方法
                     super.成员方法   调用父类的成员方法

**如果父类中没有无参构造方法，默认不会对父类成员变量进行初始化**：
	子类一定要有一个去访问了父类的构造方法，否则父类数据就没有初始化
	
注意事项：
       this(...)或super(...)必须出现在第一条语句上。  
       如果不是放在了第一条语句上，就可能对父类的数据进行了多次初始化

**一个类的静态代码块，构造代码块，构造方法的执行流程**  
	      静态代码块>构造代码块>构造方法  
	静态的内容是随着类的加载而加载  
	       静态代码块的内容会优先执行  
	子类初始化之前先会进行父类的初始化

方法重写：子类中出现了和父类中方法一模一样（方法名、参数列表、返回值类型）的方法。也被称为方法覆盖、方法复写。
使用特点：
       如果方法名不同，就调用对应方法
       如果方法名相同，最终使用的是子类自己的
==方法重写==的应用：
       当子类需要父类的功能，而功能主体子类有自己特有内容时，可以重写父类中的方法，这样即沿袭了父类的功能，又定义了子类特有的内容。

![[例题继承.png]]

1. 当执行new B()时,由于B继承自A,所以会先初始化父类A  
2. 在初始化父类A之前,会先初始化类中声明的成员变量,即C c = new C()  
3. 所以首先输出"C"(来自类C的构造函数)  
4. B类的构造函数中使用super("B")调用父类的构造函数A(String s)  
5. 执行A(String s)构造函数,输出"B"  
6. 最后执行B类构造函数中的System.out.print("B")  
  
因此完整的输出顺序是"CBB"。
![[静态初始化.png]]

父类的引用指向子类的对象（向上转型）