- 反向代理是一种网络架构技术，通过反向代理服务器为后端服务器做代理
这个过程就是通过==nginx的反向代理==实现的。 那为什么浏览器不直接请求后端的tomcat服务器，而是直接请求nginx服务器呢，主要有以下几点原因：
![[nginx反向代理.png]]
1). 安全：由于后端的tomcat服务器一般都会搭建集群，会有很多的服务器，把所有的tomcat暴露给前端，让前端直接请求tomcat，对于后端服务器是比较危险的。

2). 灵活：基于nginx的反向代理实现，更加灵活，后端想增加、减少服务器，对于前端来说是无感知的，只需要在nginx中配置即可。

3). 负载均衡：基于nginx的反向代理，可以很方便的实现后端tomcat的负载均衡操作。


![[nginx配置反向代理.png]]
```ngnix.conf
    server {
        listen       90;
        location ^~ /api/ {
			rewrite ^/api/(.*)$ /$1 break;
			proxy_pass http://localhost:8080;
        }
```
> 1. location：用于定义匹配特定uri请求的规则。     
> 2. ^~ /api/：表示精确匹配，即只匹配以/api/开头的路径。   
> 3. rewrite：该指令用于重写匹配到的uri路径。
> 4. proxy_pass：该指令用于代理转发，它将匹配到的请求转发给位于后端的指令服务器。

### 正则表达式部分：`^/api/(.*)$`
- `^` - 匹配字符串的开始位置（确保URL以 `/api/` 开头）
- `/api/` - 字面匹配字符串 "/api/"
- `(.*)` - 捕获组：
    - `.` 匹配任意字符（除了换行符）
    - `*` 表示前面的元素（`.`）可以出现 0 次或多次
    - 括号 `()` 表示捕获这个匹配的内容，可以通过 `$1` 引用
- `$` - 匹配字符串的结束位置
### 替换部分：`/$1`
- `$1` - 引用正则表达式中第一个捕获组 `(.*)` 匹配的内容
- 前面加 `/` 表示替换后的路径以斜杠开头
### 整体作用：
这个规则的意思是：  
**将任何以 `/api/` 开头的 URL 重写为去掉 `/api/` 前缀的形式**。